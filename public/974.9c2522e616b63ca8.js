"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[974],{3974:(y,d,e)=>{e.r(d),e.d(d,{ProtectedModule:()=>A});var p=e(9808),s=e(4100),u=e(520),m=e(4004),h=e(8505),C=e(5226),l=e.n(C),t=e(5e3),f=e(6518),x=e(4893),Z=e(8966),P=e(4209),M=e(2523);let v=(()=>{class n{transform(o){return o.id||o.alt_img?o.alt_img?o.alt_img:`assets/productos/${o.id}.jpg`:"assets/productos/no-image.png"}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=t.Yjl({name:"imagen",type:n,pure:!0}),n})();function O(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"div",9),t._UZ(1,"img",10),t.ALo(2,"imagen"),t.TgZ(3,"div",11),t.TgZ(4,"h3"),t._uU(5),t.qZA(),t.TgZ(6,"h4"),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"p",12),t._uU(10,"Cantidad: "),t._UZ(11,"input",13),t.qZA(),t.TgZ(12,"p",14),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw().eliminar(c)}),t._UZ(13,"i",15),t.TgZ(14,"span",16),t._uU(15,"Eliminar del carrito"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const o=r.$implicit;t.xp6(1),t.Q6J("src",t.lcZ(2,4,o),t.LSH),t.xp6(4),t.Oqu(o.nombre),t.xp6(2),t.Oqu(t.gM2(8,6,o.precio,"EUR","symbol-narrow","1.0-4")),t.xp6(4),t.Q6J("value",o.cantidad)}}const b=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(o,i){1&o&&(t.TgZ(0,"div"),t._UZ(1,"router-outlet"),t.qZA())},directives:[s.lC],styles:[""]}),n})(),children:[{path:"productos",component:(()=>{class n{constructor(o,i,a,c,g,U){this._router=o,this._authService=i,this._productoService=a,this._location=c,this._dialog=g,this._updateCartService=U,this.productos=[],this.titulo="Carrito",this.totalItem=0}get usuario(){return this._authService.usuario}ngOnInit(){this._productoService.getProductsFromCady().pipe((0,m.U)(o=>o.reduce((i,a)=>{const c=i.find(g=>g.id===a.id);return c?c.cantidad++:(a.cantidad=1,i.push(a)),i},[]))).subscribe(o=>{this.productos=o}),this._updateCartService.setUpdatedCart$(this.productos)}eliminar(o){new u.WM({}),this._productoService.removeArticleToCart(o.id).pipe((0,h.b)(()=>this._router.navigateByUrl("/refresh",{skipLocationChange:!0}).then(()=>{this._router.navigate([decodeURI(this._location.path())])}))).subscribe(a=>{console.log(a),"true"===a.ok?l().fire({position:"center",icon:"success",title:"Producto eliminado del carrito",showConfirmButton:!1,timer:1500}):l().fire({position:"center",icon:"error",title:"Ocurrio un error a la hora de eliminar el producto",showConfirmButton:!1,timer:1500})}),this._updateCartService.setUpdatedCart$(this.productos)}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(s.F0),t.Y36(f.e),t.Y36(x.k),t.Y36(p.Ye),t.Y36(Z.uw),t.Y36(P.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-carrito"]],decls:34,vars:2,consts:[[1,"mt-4"],[3,"titulo"],[1,"wrapper"],[1,"project"],[1,"shop"],["class","box",4,"ngFor","ngForOf"],[1,"right-bar"],["href",""],[1,"fa","fa-shopping-cart"],[1,"box"],[1,"card-img",3,"src"],[1,"content"],[1,"unit"],[3,"value"],[1,"btn-area",3,"click"],[1,"fa","fa-trash"],[1,"btn2"]],template:function(o,i){1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",0),t._UZ(2,"app-title",1),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.YNc(6,O,16,11,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"p"),t.TgZ(9,"span"),t._uU(10,"Subtotal"),t.qZA(),t.TgZ(11,"span"),t._uU(12,"$10"),t.qZA(),t.qZA(),t._UZ(13,"hr"),t.TgZ(14,"p"),t.TgZ(15,"span"),t._uU(16,"Tax (%5)"),t.qZA(),t.TgZ(17,"span"),t._uU(18,"$10"),t.qZA(),t.qZA(),t._UZ(19,"hr"),t.TgZ(20,"p"),t.TgZ(21,"span"),t._uU(22,"Shipping"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"$10"),t.qZA(),t.qZA(),t._UZ(25,"hr"),t.TgZ(26,"p"),t.TgZ(27,"span"),t._uU(28,"Total"),t.qZA(),t.TgZ(29,"span"),t._uU(30,"$10"),t.qZA(),t.qZA(),t.TgZ(31,"a",7),t._UZ(32,"i",8),t._uU(33,"Terminar y comprar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("titulo",i.titulo),t.xp6(4),t.Q6J("ngForOf",i.productos))},directives:[M.r,p.sg],pipes:[v,p.H9],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.wrapper[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:30px 0;text-align:center;text-transform:uppercase}.project[_ngcontent-%COMP%]{display:flex}.shop[_ngcontent-%COMP%]{flex:75%}.box[_ngcontent-%COMP%]{display:flex;width:100%;height:200px;overflow:hidden;margin-bottom:20px;background-color:#fff;transition:all .6s ease;box-shadow:#64646f33 0 7px 29px}.box[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:200px;object-fit:cover}.content[_ngcontent-%COMP%]{padding:20px;position:relative;width:100%}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:30px}.content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:50px}.btn-area[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;padding:10px 25px;background-color:#3a71a9;color:#fff;cursor:pointer;border-radius:10px;font-weight:600}.btn-area[_ngcontent-%COMP%]:hover{background-color:#3a71a9;color:#fff}.unit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50px;padding:8px;text-align:center}.btn-area[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.right-bar[_ngcontent-%COMP%]{flex:25%;margin-left:20px;padding:20px;height:400px;border-radius:5px;background:#fff;box-shadow:#64646f33 0 7px 29px}.right-bar[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:25px}.right-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:30px;font-size:20px}.right-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#3a71a9;color:#fff;text-decoration:none;display:block;text-align:center;height:40px;line-height:40px;font-weight:900}.right-bar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:15px}.right-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#3a71a9}@media screen and (max-width: 700px){.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px}.content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px}.btn2[_ngcontent-%COMP%]{display:none}.box[_ngcontent-%COMP%]{height:200px}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;width:100px}.btn-area[_ngcontent-%COMP%]{bottom:52px;right:34px}.unit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:55px;padding:2px;text-align:center}}@media screen and (max-width: 900px){.project[_ngcontent-%COMP%]{flex-direction:column}.right-bar[_ngcontent-%COMP%]{margin-left:0;margin-bottom:20px}}@media screen and (max-width: 1250px){.wrapper[_ngcontent-%COMP%]{max-width:95%}}"]}),n})()},{path:"finalizar-compra",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-finalizar-compra"]],decls:2,vars:0,template:function(o,i){1&o&&(t.TgZ(0,"p"),t._uU(1,"finalizar-compra works!"),t.qZA())},styles:[""]}),n})()},{path:"",redirectTo:"productos"}]}];let _=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.Bz.forChild(b)],s.Bz]}),n})();var T=e(4466);let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,_,T.m]]}),n})()}}]);